<div class="admin-panel-container">
  <!-- Header de l'administration -->
  <div class="admin-header">
    <div class="container">
      <h2 class="text-center mb-0">
        <i class="fas fa-cogs me-2"></i>
        Panneau d'Administration - RecruTime
      </h2>
    </div>
  </div>

  <!-- Contenu principal -->
  <div class="container">
    <!-- Navigation par onglets -->
    <ul class="nav nav-tabs" id="adminTabs" role="tablist">
      <li class="nav-item" role="presentation">
        <button class="nav-link active"
                type="button"
                role="tab">
          <i class="fas fa-briefcase me-2"></i>
          Configuration
        </button>
      </li>
      <!-- Onglets Entretiens et Rapports supprimés -->
    </ul>

    <!-- Contenu des onglets -->
    <div class="tab-content" id="adminTabContent">

      <!-- Onglet Configuration des postes -->
      <div class="tab-pane show active">
        <div class="job-config-section">
          <div class="card">
            <div class="card-header">
              <h5 class="mb-0">
                <i class="fas fa-briefcase me-2"></i>
                Configuration du Poste
              </h5>
            </div>
            <div class="card-body">
              <form>
                <div class="row">
                  <div class="col-md-6">
                    <div class="form-group">
                      <label for="jobTitle">Titre du poste</label>
                      <input type="text"
                             class="form-control"
                             id="jobTitle"
                             [(ngModel)]="jobConfig.title"
                             name="jobTitle"
                             placeholder="Ex: Comptable Senior">
                    </div>
                  </div>
                  <div class="col-md-6">
                    <div class="form-group">
                      <label for="jobDepartment">Département</label>
                      <input type="text"
                             class="form-control"
                             id="jobDepartment"
                             [(ngModel)]="jobConfig.department"
                             name="jobDepartment"
                             placeholder="Ex: Comptabilité">
                    </div>
                  </div>
                </div>

                <div class="row">
                  <div class="col-md-6">
                    <div class="form-group">
                      <label for="jobExperience">Expérience requise</label>
                      <input type="text"
                             class="form-control"
                             id="jobExperience"
                             [(ngModel)]="jobConfig.experience"
                             name="jobExperience"
                             placeholder="Ex: 3-5 ans">
                    </div>
                  </div>
                  <div class="col-md-6">
                    <div class="form-group">
                      <label for="jobSalary">Fourchette salariale</label>
                      <input type="text"
                             class="form-control"
                             id="jobSalary"
                             [(ngModel)]="jobConfig.salary"
                             name="jobSalary"
                             placeholder="Ex: 35 000€ - 45 000€">
                    </div>
                  </div>
                </div>

                <div class="row">
                  <div class="col-md-6">
                    <div class="form-group">
                      <label for="jobLocation">Localisation</label>
                      <input type="text"
                             class="form-control"
                             id="jobLocation"
                             [(ngModel)]="jobConfig.location"
                             name="jobLocation"
                             placeholder="Ex: Paris, Télétravail">
                    </div>
                  </div>
                </div>
                <div class="row">
                  <div class="col-md-6">
                    <div class="form-group">
                      <label for="companyName">Nom de l'entreprise</label>
                      <input type="text"
                             class="form-control"
                             id="companyName"
                             [(ngModel)]="jobConfig.company_name"
                             name="companyName"
                             placeholder="Ex: ACME Corp">
                    </div>
                  </div>
                </div>


                <div class="form-group">
                  <label for="jobRequirements">Exigences et compétences</label>
                  <textarea class="form-control"
                            id="jobRequirements"
                            rows="4"
                            [(ngModel)]="jobConfig.requirements"
                            name="jobRequirements"
                            placeholder="Décrivez les compétences requises, formations, certifications..."></textarea>
                </div>

                <div class="action-buttons">
                  <button type="button"
                          class="btn btn-outline-secondary me-2"
                          (click)="resetJobConfig()">
                    <i class="fas fa-undo me-2"></i>
                    Réinitialiser
                  </button>
                  <button type="button"
                          class="btn btn-primary"
                          [disabled]="!canSaveJobConfig()"
                          (click)="saveJobConfig()">
                    <i class="fas fa-save me-2"></i>
                    Sauvegarder
                  </button>
                </div>
              </form>
            </div>
          </div>

          <!-- Section des documents -->
          <div class="card mt-4">
            <div class="card-header">
              <h5 class="mb-0">
                <i class="fas fa-file-upload me-2"></i>
                Documents de Référence
              </h5>
            </div>
            <div class="card-body">
              <!-- Zone d'upload -->
              <div class="upload-area" (click)="fileInput.click()">
                <div class="upload-icon">
                  <i class="fas fa-cloud-upload-alt"></i>
                </div>
                <div class="upload-text">
                  Cliquez ici pour ajouter un document ou glissez-déposez vos fichiers
                </div>
                <button type="button" class="upload-btn">
                  <i class="fas fa-plus me-2"></i>
                  Choisir un fichier
                </button>
                <input #fileInput
                       type="file"
                       class="file-input"
                       (change)="onFileSelected($event)"
                       accept=".pdf,.doc,.docx,.xlsx,.png,.jpg,.jpeg">
              </div>

              <!-- Formulaire d'upload -->
              <div *ngIf="newDocument.file" class="mt-3">
                <div class="row">
                  <div class="col-md-8">
                    <input type="text"
                           class="form-control"
                           [(ngModel)]="newDocument.name"
                           placeholder="Nom du document">
                  </div>
                  <div class="col-md-4">
                    <button type="button"
                            class="btn btn-success w-100"
                            [disabled]="!canUploadDocument()"
                            (click)="uploadDocument()">
                      <i class="fas fa-upload me-2"></i>
                      Uploader
                    </button>
                  </div>
                </div>
              </div>

              <!-- Liste des documents -->
              <div class="document-list mt-4">
                <div *ngFor="let document of getFilteredDocuments()" class="document-item">
                  <div class="document-info">
                    <div class="document-icon">
                      <i class="fas fa-file-pdf" *ngIf="document.type === 'PDF'"></i>
                      <i class="fas fa-file-word" *ngIf="document.type === 'Word'"></i>
                      <i class="fas fa-file-excel" *ngIf="document.type === 'Excel'"></i>
                      <i class="fas fa-file-image" *ngIf="document.type === 'Image'"></i>
                      <i class="fas fa-file" *ngIf="document.type === 'Autre'"></i>
                    </div>
                    <div class="document-details">
                      <div class="document-name">{{ document.name }}</div>
                      <div class="document-meta">
                        <span><strong>Type:</strong> {{ document.type }}</span>
                        <span><strong>Taille:</strong> {{ document.size }}</span>
                        <span><strong>Date:</strong> {{ document.uploadDate }}</span>
                        <!-- statut masqué -->
                      </div>
                    </div>
                  </div>
                  <div class="document-actions">
                    <button class="btn btn-sm btn-danger"
                            (click)="deleteDocument(document.id)">
                      <i class="fas fa-trash"></i> Supprimer
                    </button>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- Section Rapports d'entretien -->
          <div class="card mt-4">
            <div class="card-header">
              <h5 class="mb-0">
                <i class="fas fa-file-alt me-2"></i>
                Rapports d'entretien
              </h5>
            </div>
            <div class="card-body">
              <p class="text-muted mb-3">Téléchargez le rapport d'entretien. Un fichier HTML sera téléchargé que vous pourrez ouvrir et convertir en PDF via votre navigateur (Ctrl+P > Enregistrer au format PDF).</p>
              <div class="d-flex gap-2">
                <button type="button" class="btn btn-primary" (click)="downloadInterviewReportPdf()">
                  <i class="fas fa-download me-2"></i>
                  Télécharger le Rapport
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Sections Entretiens et Rapports supprimées -->
    </div>
  </div>
</div>
